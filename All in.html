<!DOCTYPE html>
<html lang="th">
<head>
  <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">

  <title>‡∏ú‡∏±‡∏á‡πÇ‡∏ï‡πä‡∏∞‡∏£‡πâ‡∏≤‡∏ô All In</title>
  <!-- LIFF SDK -->
  <script src="https://static.line-scdn.net/liff/edge/2/sdk.js"></script>

  <script type="module">
import { initializeApp } from "https://www.gstatic.com/firebasejs/10.12.0/firebase-app.js";
import { getFirestore, collection, doc, writeBatch, onSnapshot } from "https://www.gstatic.com/firebasejs/10.12.0/firebase-firestore.js";

const firebaseConfig = {
  apiKey: "AIzaSyByEiQP04T_RxQ88CMZRWxUMI_r9ra5ub4",
  authDomain: "purdto-platform.firebaseapp.com",
  projectId: "purdto-platform",
  messagingSenderId: "670687363597",
  appId: "1:670687363597:web:dd96a5936c87ad27dd0b44"
};
const app = initializeApp(firebaseConfig);
const db = getFirestore(app);

const restaurantId = "all-in";
const seatElements = {};
const pricePerSeat = 0;  // ‡∏Å‡∏≥‡∏´‡∏ô‡∏î‡∏£‡∏≤‡∏Ñ‡∏≤‡∏ó‡∏µ‡πà‡∏ô‡∏±‡πà‡∏á

const selected = new Set(); // ‡πÄ‡∏û‡∏¥‡πà‡∏°‡∏ö‡∏£‡∏£‡∏ó‡∏±‡∏î‡∏ô‡∏µ‡πâ‡πÑ‡∏ß‡πâ‡∏ö‡∏ô‡∏™‡∏∏‡∏î
document.addEventListener("DOMContentLoaded", () => {
  document.getElementById("checkAvailability").addEventListener("click", window.checkTableAvailability);
      document.querySelectorAll(".table").forEach(el => {
  const id = el.dataset.table;
  seatElements[id] = el;
});

  // ‡∏Å‡∏≤‡∏£‡∏ï‡∏¥‡∏î‡∏ï‡∏≤‡∏°‡∏™‡∏ñ‡∏≤‡∏ô‡∏∞‡∏Ç‡∏≠‡∏á‡πÇ‡∏ï‡πä‡∏∞‡πÉ‡∏ô Firestore
   const tablesRef = collection(db, "restaurants", restaurantId, "tables");
      onSnapshot(tablesRef, snapshot => {
        snapshot.docChanges().forEach(change => {
          const id = change.doc.id;
          const data = change.doc.data();
          const seat = seatElements[id];
          if (!seat) return;

          seat.classList.remove("selected", "reserved");

          if (data.status === "reserved" || data.status === "blocked") {
            seat.classList.add("reserved");
            seat.textContent = data.status === "blocked" ? "‚ùå" : id;
            seat.onclick = null;
          } else {
            seat.textContent = id;
            seat.onclick = () => {
              seat.classList.toggle("selected");
              if (selected.has(id)) selected.delete(id);
              else selected.add(id);
              updateButtonTotal();
            };
          }
        });
      });
    });
// ‡∏ü‡∏±‡∏á‡∏Å‡πå‡∏ä‡∏±‡∏ô‡∏≠‡∏±‡∏õ‡πÄ‡∏î‡∏ï‡∏¢‡∏≠‡∏î‡∏£‡∏ß‡∏°‡∏Ç‡∏≠‡∏á‡∏Å‡∏≤‡∏£‡∏à‡∏≠‡∏á
function updateButtonTotal() {
      const total = selected.size * pricePerSeat;
      const btn = document.getElementById("confirmBtn");
      btn.textContent = `‡∏à‡∏≠‡∏á‡πÄ‡∏•‡∏¢ (${total} ‡∏ö‡∏≤‡∏ó)`;
      btn.disabled = selected.size === 0;
      btn.style.backgroundColor = btn.disabled ? "#9ca3af" : "#10b981";
      btn.style.cursor = btn.disabled ? "not-allowed" : "pointer";
    }

   window.reserveSeats = async (userId) => {
  if (selected.size === 0) return;

  // ‚úÖ ‡∏≠‡πà‡∏≤‡∏ô‡∏ß‡∏±‡∏ô‡∏ó‡∏µ‡πà‡∏à‡∏≤‡∏Å input
  const dateInput = document.getElementById("reservationDate").value;
  if (!dateInput) {
    alert("‡∏Å‡∏£‡∏∏‡∏ì‡∏≤‡πÄ‡∏•‡∏∑‡∏≠‡∏Å‡∏ß‡∏±‡∏ô‡∏ó‡∏µ‡πà‡∏Å‡πà‡∏≠‡∏ô‡∏ó‡∏≥‡∏Å‡∏≤‡∏£‡∏à‡∏≠‡∏á");
    return;
  }

  const selectedDate = new Date(dateInput);
  const today = new Date();
  const maxDate = new Date();

  today.setHours(0, 0, 0, 0);
  maxDate.setDate(today.getDate() + 7);
  maxDate.setHours(23, 59, 59, 999);
  selectedDate.setHours(0, 0, 0, 0);

  if (selectedDate < today || selectedDate > maxDate) {
    alert("‡∏Ñ‡∏∏‡∏ì‡∏™‡∏≤‡∏°‡∏≤‡∏£‡∏ñ‡∏à‡∏≠‡∏á‡∏•‡πà‡∏ß‡∏á‡∏´‡∏ô‡πâ‡∏≤‡πÑ‡∏î‡πâ‡πÑ‡∏°‡πà‡πÄ‡∏Å‡∏¥‡∏ô 7 ‡∏ß‡∏±‡∏ô‡∏à‡∏≤‡∏Å‡∏ß‡∏±‡∏ô‡∏ô‡∏µ‡πâ‡πÄ‡∏ó‡πà‡∏≤‡∏ô‡∏±‡πâ‡∏ô");
    return;
  }

  // ‡πÅ‡∏õ‡∏•‡∏á selectedDate ‡πÄ‡∏õ‡πá‡∏ô Timestamp
  const selectedTimestamp = firebase.firestore.Timestamp.fromDate(selectedDate);

  const now = new Date();
  const batch = writeBatch(db);

  for (const id of selected) {
    const ref = doc(db, "restaurants", restaurantId, "tables", id);
    batch.update(ref, {
      status: "reserved",
      reservationDate: selectedTimestamp, // ‚úÖ ‡πÉ‡∏ä‡πâ Timestamp ‡πÉ‡∏ô‡∏Å‡∏≤‡∏£‡∏ö‡∏±‡∏ô‡∏ó‡∏∂‡∏Å
      reservedBy: {
        displayName: window.displayName,
        userId: window.userId,
        status: "reserved",
        timestamp: now
      }
    });
  }

  try {
    await batch.commit();
    updateButtonTotal();
  } catch (err) {
    alert("‚ùå ‡πÄ‡∏Å‡∏¥‡∏î‡∏Ç‡πâ‡∏≠‡∏ú‡∏¥‡∏î‡∏û‡∏•‡∏≤‡∏î‡∏Ç‡∏ì‡∏∞‡∏à‡∏≠‡∏á‡∏ó‡∏µ‡πà‡∏ô‡∏±‡πà‡∏á");
    console.error(err);
  }
};


    //LINELIFF
    window.onload = function () {
      liff.init({ liffId: "2007619597-pL1yYoj3" })        //LINELIFF
        .then(() => {
          if (!liff.isLoggedIn()) liff.login();
          else {
            liff.getProfile().then(profile => {
              window.userId = profile.userId;
              window.displayName = profile.displayName;
            });
          }
        }).catch(console.error);
    };

    // ‡∏ü‡∏±‡∏á‡∏Å‡πå‡∏ä‡∏±‡∏ô‡πÄ‡∏ä‡πá‡∏Ñ‡∏™‡∏ñ‡∏≤‡∏ô‡∏∞‡πÇ‡∏ï‡πä‡∏∞‡πÄ‡∏°‡∏∑‡πà‡∏≠‡∏ú‡∏π‡πâ‡πÉ‡∏ä‡πâ‡πÄ‡∏•‡∏∑‡∏≠‡∏Å‡∏ß‡∏±‡∏ô‡∏ó‡∏µ‡πà
window.checkTableAvailability = async () => {
  const dateInput = document.getElementById("reservationDate").value;
  if (!dateInput) {
    alert("‡∏Å‡∏£‡∏∏‡∏ì‡∏≤‡πÄ‡∏•‡∏∑‡∏≠‡∏Å‡∏ß‡∏±‡∏ô‡∏ó‡∏µ‡πà‡∏Å‡πà‡∏≠‡∏ô‡∏ó‡∏≥‡∏Å‡∏≤‡∏£‡∏à‡∏≠‡∏á");
    return;
  }

  const selectedDate = new Date(dateInput);
  selectedDate.setHours(0, 0, 0, 0); // ‡πÉ‡∏´‡πâ‡πÅ‡∏ô‡πà‡πÉ‡∏à‡∏ß‡πà‡∏≤‡πÄ‡∏õ‡πá‡∏ô‡πÄ‡∏ß‡∏•‡∏≤ 00:00:00

  // ‡πÅ‡∏õ‡∏•‡∏á selectedDate ‡πÄ‡∏õ‡πá‡∏ô Timestamp
  const selectedTimestamp = firebase.firestore.Timestamp.fromDate(selectedDate);

  // ‡∏ï‡∏£‡∏ß‡∏à‡∏™‡∏≠‡∏ö‡∏™‡∏ñ‡∏≤‡∏ô‡∏∞‡∏Ç‡∏≠‡∏á‡πÇ‡∏ï‡πä‡∏∞‡πÉ‡∏ô‡∏ß‡∏±‡∏ô‡∏ó‡∏µ‡πà‡πÄ‡∏•‡∏∑‡∏≠‡∏Å
  const tablesRef = collection(db, "restaurants", restaurantId, "tables");
  const q = query(tablesRef, where("reservationDate", "==", selectedTimestamp));  // ‡πÉ‡∏ä‡πâ selectedTimestamp ‡∏ó‡∏µ‡πà‡∏ñ‡∏π‡∏Å‡∏ï‡πâ‡∏≠‡∏á

  // ‡∏î‡∏∂‡∏á‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•‡∏™‡∏ñ‡∏≤‡∏ô‡∏∞‡πÇ‡∏ï‡πä‡∏∞
  const querySnapshot = await getDocs(q);

  if (querySnapshot.empty) {
    document.getElementById("tableStatus").innerText = "‡∏ó‡∏±‡πâ‡∏á‡∏´‡∏°‡∏î‡πÇ‡∏ï‡πä‡∏∞‡∏ß‡πà‡∏≤‡∏á!";
  } else {
    let unavailableTables = [];
    querySnapshot.forEach(doc => {
      const data = doc.data();
      if (data.status === "reserved") {
        unavailableTables.push(doc.id);  // ‡πÄ‡∏Å‡πá‡∏ö‡∏ä‡∏∑‡πà‡∏≠‡πÇ‡∏ï‡πä‡∏∞‡∏ó‡∏µ‡πà‡∏à‡∏≠‡∏á‡πÅ‡∏•‡πâ‡∏ß
      }
    });

    if (unavailableTables.length > 0) {
      document.getElementById("tableStatus").innerText = `‡πÇ‡∏ï‡πä‡∏∞‡∏ó‡∏µ‡πà‡∏à‡∏≠‡∏á‡πÅ‡∏•‡πâ‡∏ß: ${unavailableTables.join(", ")}`;
    } else {
      document.getElementById("tableStatus").innerText = "‡∏ó‡∏±‡πâ‡∏á‡∏´‡∏°‡∏î‡πÇ‡∏ï‡πä‡∏∞‡∏ß‡πà‡∏≤‡∏á!";
    }
  }
};



    window.bookSeats = function () {
      if (selected.size === 0) {
        alert("‡∏Å‡∏£‡∏∏‡∏ì‡∏≤‡πÄ‡∏•‡∏∑‡∏≠‡∏Å‡∏ó‡∏µ‡πà‡∏ô‡∏±‡πà‡∏á‡∏Å‡πà‡∏≠‡∏ô");
        return;
      }
      window.reserveSeats(window.userId).then(() => {

  const flexMessage = {
          type: "flex",
          altText: "üìå ‡∏¢‡∏∑‡∏ô‡∏¢‡∏±‡∏ô‡∏Å‡∏≤‡∏£‡∏à‡∏≠‡∏á‡πÇ‡∏ï‡πä‡∏∞",
          contents: {
            type: "bubble",
            styles: {
              header: { backgroundColor: "#000000" },
              body: { backgroundColor: "#111111" }
            },
            header: {
              type: "box",
              layout: "vertical",
              contents: [{ type: "text", text: "üìå ‡∏£‡πâ‡∏≤‡∏ô Fuel", weight: "bold", size: "lg", color: "#facc15" }]
            },
            body: {
              type: "box",
              layout: "vertical",
              spacing: "sm",
              contents: [
                { type: "text", text: `‡∏Ñ‡∏∏‡∏ì ${window.displayName} ‡πÑ‡∏î‡πâ‡∏à‡∏≠‡∏á‡πÇ‡∏ï‡πä‡∏∞`, weight: "bold", size: "md", color: "#ffffff" },
                { type: "text", text: `‡∏ó‡∏µ‡πà‡∏ô‡∏±‡πà‡∏á: ${Array.from(selected).join(", ")}`, size: "sm", wrap: true, color: "#d4d4d4" },
                { type: "text", text: `‡∏£‡∏ß‡∏°‡∏ó‡∏±‡πâ‡∏á‡∏´‡∏°‡∏î: ${selected.size * pricePerSeat} ‡∏ö‡∏≤‡∏ó`, size: "sm", weight: "bold", color: "#10b981" }
              ]
            }
          }
        };

        liff.sendMessages([flexMessage])
          .then(() => {
            alert("‚úÖ ‡∏™‡πà‡∏á‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•‡∏à‡∏≠‡∏á‡πÄ‡∏£‡∏µ‡∏¢‡∏ö‡∏£‡πâ‡∏≠‡∏¢‡πÅ‡∏•‡πâ‡∏ß");
            liff.closeWindow();
          })
          .catch(err => {
            alert("‚ùå ‡∏™‡πà‡∏á‡∏Ç‡πâ‡∏≠‡∏Ñ‡∏ß‡∏≤‡∏°‡πÑ‡∏°‡πà‡∏™‡∏≥‡πÄ‡∏£‡πá‡∏à");
            console.error(err);
          });
      });
    };

</script>


  <style>
    @media screen and (max-width: 768px) {
  .layout {
    transform: scale(0.8);
    transform-origin: top center;
  }
}
.restaurant-name {
  position: absolute;
  top: 30px;
  left: 50%;
  transform: translateX(-50%);
  font-family: 'Arial Black', sans-serif;
  font-size: 34px;
  color: white;
  text-shadow: 0 0 10px rgba(255,255,255,0.15);
  letter-spacing: 1px;
}
   body {
  margin: 0;                          /* ‡∏•‡∏ö‡∏£‡∏∞‡∏¢‡∏∞‡∏Ç‡∏≠‡∏ö‡∏Ç‡∏≠‡∏á body */
  padding: 0;                         /* ‡∏•‡∏ö padding ‡∏†‡∏≤‡∏¢‡πÉ‡∏ô body */
  font-family: 'Arial', sans-serif;  /* ‡πÉ‡∏ä‡πâ‡∏ü‡∏≠‡∏ô‡∏ï‡πå Arial */
  
  background-color: #4d4d4d;         /* ‡∏™‡∏µ‡∏û‡∏∑‡πâ‡∏ô‡∏´‡∏•‡∏±‡∏á‡πÄ‡∏ó‡∏≤‡πÄ‡∏Ç‡πâ‡∏° */
  
  background-image: url('https://img5.pic.in.th/file/secure-sv1/logo-blackground.md.jpg'); /* ‡πÉ‡∏™‡πà‡∏†‡∏≤‡∏û‡πÇ‡∏•‡πÇ‡∏Å‡πâ‡πÄ‡∏õ‡πá‡∏ô‡∏û‡∏∑‡πâ‡∏ô‡∏´‡∏•‡∏±‡∏á */
  
  background-size: 185px;            /* ‡∏Å‡∏≥‡∏´‡∏ô‡∏î‡∏Ç‡∏ô‡∏≤‡∏î‡∏†‡∏≤‡∏û‡∏û‡∏∑‡πâ‡∏ô‡∏´‡∏•‡∏±‡∏á (‡∏Å‡∏ß‡πâ‡∏≤‡∏á = 185px, ‡∏™‡∏π‡∏á‡∏≠‡∏±‡∏ï‡πÇ‡∏ô‡∏°‡∏±‡∏ï‡∏¥) */
  
  background-repeat: no-repeat;      /* ‡πÑ‡∏°‡πà‡πÉ‡∏´‡πâ‡∏†‡∏≤‡∏û‡∏ã‡πâ‡∏≥ */
  
  /* üîß ‡∏ï‡∏£‡∏á‡∏ô‡∏µ‡πâ‡∏Ñ‡∏∑‡∏≠ "‡∏ï‡∏≥‡πÅ‡∏´‡∏ô‡πà‡∏á" ‡∏Ç‡∏≠‡∏á‡∏†‡∏≤‡∏û‡πÇ‡∏•‡πÇ‡∏Å‡πâ */
  /* ‚úÖ ‡∏ã‡πâ‡∏≤‡∏¢-‡∏Ç‡∏ß‡∏≤ ‡∏õ‡∏£‡∏±‡∏ö‡∏ó‡∏µ‡πà‡∏Ñ‡πà‡∏≤‡∏ï‡∏±‡∏ß‡πÅ‡∏£‡∏Å (‡πÄ‡∏ä‡πà‡∏ô calc(50% - 70px)) */
  /* ‚úÖ ‡∏ö‡∏ô-‡∏•‡πà‡∏≤‡∏á ‡∏õ‡∏£‡∏±‡∏ö‡∏ó‡∏µ‡πà‡∏Ñ‡πà‡∏≤‡∏ï‡∏±‡∏ß‡∏ó‡∏µ‡πà‡∏™‡∏≠‡∏á (‡πÄ‡∏ä‡πà‡∏ô calc(50% - 96px)) */
  background-position: calc(108px) calc(50% - 96px);
  /*
    ‚û§ ‡∏ã‡πâ‡∏≤‡∏¢-‡∏Ç‡∏ß‡∏≤: calc(50% - 70px)
        ‚Üí ‡∏•‡∏î‡∏à‡∏≤‡∏Å‡∏Å‡∏∂‡πà‡∏á‡∏Å‡∏•‡∏≤‡∏á‡πÑ‡∏õ‡∏ó‡∏≤‡∏á‡∏ã‡πâ‡∏≤‡∏¢ 70px
        ‚Üí ‡∏ñ‡πâ‡∏≤‡∏≠‡∏¢‡∏≤‡∏Å‡πÉ‡∏´‡πâ‡∏†‡∏≤‡∏û‡πÑ‡∏õ‡∏ó‡∏≤‡∏á "‡∏Ç‡∏ß‡∏≤" ‡πÉ‡∏´‡πâ‡∏•‡∏î‡πÄ‡∏•‡∏Ç ‡πÄ‡∏ä‡πà‡∏ô -70px ‚Üí -30px ‡∏´‡∏£‡∏∑‡∏≠‡πÉ‡∏ä‡πâ +20px
        ‚Üí ‡∏ñ‡πâ‡∏≤‡∏≠‡∏¢‡∏≤‡∏Å‡πÉ‡∏´‡πâ‡∏†‡∏≤‡∏û‡πÑ‡∏õ‡∏ó‡∏≤‡∏á "‡∏ã‡πâ‡∏≤‡∏¢" ‡∏°‡∏≤‡∏Å‡∏Ç‡∏∂‡πâ‡∏ô ‡πÉ‡∏´‡πâ‡πÄ‡∏û‡∏¥‡πà‡∏°‡πÄ‡∏•‡∏Ç ‡πÄ‡∏ä‡πà‡∏ô -70px ‚Üí -100px
    
    ‚û§ ‡∏ö‡∏ô-‡∏•‡πà‡∏≤‡∏á: calc(50% - 96px)
        ‚Üí ‡∏•‡∏î‡∏à‡∏≤‡∏Å‡∏Å‡∏∂‡πà‡∏á‡∏Å‡∏•‡∏≤‡∏á‡πÑ‡∏õ‡∏î‡πâ‡∏≤‡∏ô‡∏ö‡∏ô 96px
        ‚Üí ‡∏ñ‡πâ‡∏≤‡∏≠‡∏¢‡∏≤‡∏Å‡πÉ‡∏´‡πâ‡∏†‡∏≤‡∏û‡πÑ‡∏õ‡∏ó‡∏≤‡∏á "‡∏•‡πà‡∏≤‡∏á" ‡πÉ‡∏´‡πâ‡∏•‡∏î‡πÄ‡∏•‡∏Ç ‡πÄ‡∏ä‡πà‡∏ô -96px ‚Üí -60px ‡∏´‡∏£‡∏∑‡∏≠‡πÉ‡∏ä‡πâ +20px
        ‚Üí ‡∏ñ‡πâ‡∏≤‡∏≠‡∏¢‡∏≤‡∏Å‡πÉ‡∏´‡πâ‡∏†‡∏≤‡∏û‡πÑ‡∏õ‡∏ó‡∏≤‡∏á "‡∏ö‡∏ô" ‡∏°‡∏≤‡∏Å‡∏Ç‡∏∂‡πâ‡∏ô ‡πÉ‡∏´‡πâ‡πÄ‡∏û‡∏¥‡πà‡∏°‡πÄ‡∏•‡∏Ç ‡πÄ‡∏ä‡πà‡∏ô -96px ‚Üí -120px
  */

  background-attachment: fixed;      /* ‡πÉ‡∏´‡πâ‡∏†‡∏≤‡∏û‡∏û‡∏∑‡πâ‡∏ô‡∏´‡∏•‡∏±‡∏á‡∏ï‡∏¥‡∏î‡∏≠‡∏¢‡∏π‡πà‡∏Å‡∏±‡∏ö‡∏´‡∏ô‡πâ‡∏≤‡∏à‡∏≠ ‡πÑ‡∏°‡πà‡πÄ‡∏•‡∏∑‡πà‡∏≠‡∏ô */
  
  height: 100vh;                     /* ‡πÉ‡∏´‡πâ‡∏™‡∏π‡∏á‡πÄ‡∏ó‡πà‡∏≤‡∏Å‡∏±‡∏ö‡∏Ñ‡∏ß‡∏≤‡∏°‡∏™‡∏π‡∏á‡∏Ç‡∏≠‡∏á‡∏´‡∏ô‡πâ‡∏≤‡∏à‡∏≠ */
  
  overflow: hidden;                  /* ‡∏ã‡πà‡∏≠‡∏ô scroll bar ‡∏ñ‡πâ‡∏≤‡∏°‡∏µ‡πÄ‡∏ô‡∏∑‡πâ‡∏≠‡∏´‡∏≤‡∏•‡πâ‡∏ô */
  
  display: flex;                     /* ‡πÉ‡∏ä‡πâ flexbox ‡∏à‡∏±‡∏î‡∏ï‡∏≥‡πÅ‡∏´‡∏ô‡πà‡∏á */
  justify-content: center;          /* ‡∏à‡∏±‡∏î‡πÅ‡∏ô‡∏ß‡∏ô‡∏≠‡∏ô ‡πÉ‡∏´‡πâ‡∏≠‡∏¢‡∏π‡πà‡∏Å‡∏•‡∏≤‡∏á */
  align-items: center;              /* ‡∏à‡∏±‡∏î‡πÅ‡∏ô‡∏ß‡∏ï‡∏±‡πâ‡∏á ‡πÉ‡∏´‡πâ‡∏≠‡∏¢‡∏π‡πà‡∏Å‡∏•‡∏≤‡∏á */
}

.layout {
  width: 900px;
  height: 650px;
  position: relative;
 /* background: rgba(255, 255, 255, 0.05);*/
  border-radius: 16px;
  transform-origin: top center;
}



    .stage {
      position: absolute;
      top: 30px;
      left: 10px;
      width: 250px;
      height: 100px;
      background: #ff5c5c;
      display: flex;
      justify-content: center;
      align-items: center;
      font-weight: bold;
      font-size: 20px;
    }

    .table {
      position: absolute;
      width: 70px;
      height: 70px;
      background: black;
      color: white;
      font-weight: bold;
      font-size: 18px;
      display: flex;
      justify-content: center;
      align-items: center;
      clip-path: polygon(10% 0%, 90% 0%, 100% 10%, 100% 90%, 90% 100%, 10% 100%, 0% 90%, 0% 10%);
      cursor: pointer;
      transition: background 0.3s;
    }

    .table-b {
  width: 50px;
  height: 50px;
  font-size: 18px;
  background: #111;
}

    .table.selected {
      background-color: #2ecc71;
    }

    .door {
      position: absolute;
      width: 25px;
      height: 50px;
      border: 2px solid rgb(252, 248, 248);
    }

    .door::after {
      content: '';
      position: absolute;
      width: 5px;
      height: 5px;
      background: rgb(255, 255, 255);
      border-radius: 50%;
      top: 50%;
      left: 5px;
      transform: translateY(-50%);
    }

    .seat, .bar {
      position: absolute;
      background: white;
      border: 2px solid black;
      display: flex;
      justify-content: center;
      align-items: center;
      font-weight: bold;
      font-size: 14px;
      writing-mode: vertical-rl;
    }

    .seat {
      width: 80px;
      height: 270px;
    }

    .bar {
      width: 60px;
      height: 240px;
    }

    .bar-center {
      width: 150px;
      height: 60px;
      writing-mode: horizontal-tb;
    }

    /* ‡∏õ‡∏£‡∏±‡∏ö‡∏ï‡∏≥‡πÅ‡∏´‡∏ô‡πà‡∏á‡πÉ‡∏´‡∏°‡πà‡πÉ‡∏´‡πâ‡∏≠‡∏¢‡∏π‡πà‡∏Å‡∏•‡∏≤‡∏á‡∏à‡∏≠‡∏°‡∏≤‡∏Å‡∏Ç‡∏∂‡πâ‡∏ô */
    .t1 { top: 5px; left: 400px; }
    .t2 { top: 90px; left: 400px; }

    .t3 { top: 160px; left: 300px; }
    .t4 { top: 235px; left: 300px; }
    .t5 { top: 310px; left: 300px; }
    .t6 { top: 385px; left: 300px; }

    .t7 { top: 140px; left: 20px; }
    .t8 { top: 215px; left: 20px; }
    .t9 { top: 290px; left: 20px; }
    .t10 { top: 365px; left: 20px; }
    .t11 { top: 440px; left: 20px; }

    .t12 { top: 520px; left: 5px; }
    .t13 { top: 595px; left: 5px; }

    .b1 { top: 460px; left: 230px; }
    .b2 { top: 520px; left: 230px; }
    .b3 { top: 580px; left: 230px; }
    .b4 { top: 640px; left: 230px; }

    .seat { top: 170px; left: 380px; }

    .bar-left   { top: 460px; left: 300px; }
    .bar-right  { top: 460px; left: 520px; }
    .bar-center { top: 460px; left: 365px; }

    .door-top-right { top: 20px; left: 360px; }
    .door-bottom-left { top: 680px; left: 15px; }

    #summary {
      position: fixed;
      bottom: 0;
      width: 100%;
      background: #f7f7f7;
      border-top: 1px solid #ccc;
      padding: 10px;
      font-size: 16px;
      text-align: center;
    }
    .table.reserved {
  background-color: #9ca3af !important;
  cursor: not-allowed;
  pointer-events: none;
}

  #confirmBtnContainer {
    position: fixed;
    bottom: 0;
    width: 100%;
    background: #ffffffee;
    text-align: center;
    padding: 12px;
    box-shadow: 0 -2px 5px rgba(0, 0, 0, 0.1);
    z-index: 10;
  }

  #confirmBtn {
    padding: 10px 24px;
    font-size: 16px;
    background-color: #10b981;
    color: white;
    border: none;
    border-radius: 8px;
    cursor: pointer;
  }

  #confirmBtn:hover {
    background-color: #059669;
  }

  /* ‡∏õ‡∏è‡∏¥‡∏ó‡∏¥‡∏ô Modal */
.calendar-modal {
  display: none;
  position: fixed;
  top: 0;
  left: 0;
  width: 100%;
  height: 100%;
  background: rgba(0, 0, 0, 0.5);
  justify-content: center;
  align-items: center;
  z-index: 9999;
}

/* ‡∏õ‡∏è‡∏¥‡∏ó‡∏¥‡∏ô Container */
.calendar-container {
  background-color: white;
  padding: 20px;
  border-radius: 10px;
  width: 300px;
  text-align: center;
  box-shadow: 0 4px 10px rgba(0, 0, 0, 0.1);
}

/* ‡∏õ‡∏è‡∏¥‡∏ó‡∏¥‡∏ô Header */
.calendar-header {
  font-size: 20px;
  font-weight: bold;
  margin-bottom: 10px;
}

/* ‡∏õ‡∏è‡∏¥‡∏ó‡∏¥‡∏ô Body */
.calendar-body {
  display: grid;
  grid-template-columns: repeat(7, 1fr);
  gap: 5px;
  margin-bottom: 10px;
}

/* ‡∏õ‡∏è‡∏¥‡∏ó‡∏¥‡∏ô ‡∏ß‡∏±‡∏ô */
.calendar-day {
  padding: 10px;
  cursor: pointer;
  border-radius: 5px;
  font-size: 16px;
}

.calendar-day:hover {
  background-color: #f0f0f0;
}

/* ‡∏õ‡∏è‡∏¥‡∏ó‡∏¥‡∏ô ‡∏ß‡∏±‡∏ô‡∏ó‡∏µ‡πà‡πÄ‡∏•‡∏∑‡∏≠‡∏Å */
.selected-day {
  background-color: #10b981;
  color: white;
}

/* ‡∏õ‡∏∏‡πà‡∏°‡∏¢‡∏∑‡∏ô‡∏¢‡∏±‡∏ô */
.calendar-button {
  padding: 10px 20px;
  background-color: #10b981;
  color: white;
  border: none;
  border-radius: 8px;
  cursor: pointer;
}

.calendar-button:hover {
  background-color: #059669;
}

  </style>
</head>
<body>
  <div id="calendar-modal" class="calendar-modal">
  <div class="calendar-container">
    <div class="calendar-header">
      <span id="calendar-month"></span>
    </div>
    <div class="calendar-body" id="calendar-body"></div>
    <button id="confirmDateBtn" class="calendar-button">‡∏¢‡∏∑‡∏ô‡∏¢‡∏±‡∏ô‡∏ß‡∏±‡∏ô‡∏ó‡∏µ‡πà</button>
  </div>
</div>

  <h1  class="restaurant-name"></h1>
  

  <div class="layout">
    <div class="stage">STAGE</div>

    <!-- ‡πÇ‡∏ï‡πä‡∏∞ -->
    <div class="table t1" data-table="1">1</div>
    <div class="table t2" data-table="2">2</div>
    <div class="table t3" data-table="3">3</div>
    <div class="table t4" data-table="4">4</div>
    <div class="table t5" data-table="5">5</div>
    <div class="table t6" data-table="6">6</div>
    <div class="table t7" data-table="7">7</div>
    <div class="table t8" data-table="8">8</div>
    <div class="table t9" data-table="9">9</div>
    <div class="table t10" data-table="10">10</div>
    <div class="table t11" data-table="11">11</div>
    <div class="table t12" data-table="12">12</div>
    <div class="table t13" data-table="13">13</div>
    <div class="table table-b b1" data-table="B1">B1</div>
<div class="table table-b b2" data-table="B2">B2</div>
<div class="table table-b b3" data-table="B3">B3</div>
<div class="table table-b b4" data-table="B4">B4</div>

    <!-- ‡∏≠‡∏á‡∏Ñ‡πå‡∏õ‡∏£‡∏∞‡∏Å‡∏≠‡∏ö‡πÄ‡∏û‡∏¥‡πà‡∏°‡πÄ‡∏ï‡∏¥‡∏° -->
    <div class="seat">seat</div>
    <div class="bar bar-left">Bar</div>
    <div class="bar bar-center">Bar</div>
    <div class="bar bar-right">Bar</div>
    <div class="door door-top-right"></div>
    <div class="door door-bottom-left"></div>
  </div>

 
<div id="confirmBtnContainer">
  <label for="reservationDate">üìÖ ‡πÄ‡∏•‡∏∑‡∏≠‡∏Å‡∏ß‡∏±‡∏ô‡∏ó‡∏µ‡πà‡∏ï‡πâ‡∏≠‡∏á‡∏Å‡∏≤‡∏£‡∏à‡∏≠‡∏á:</label><br />
  <input type="date" id="reservationDate" style="padding: 8px; font-size: 16px; margin: 8px 0;" />
  <br />
  <button id="checkAvailability">‡∏ï‡∏£‡∏ß‡∏à‡∏™‡∏≠‡∏ö‡∏™‡∏ñ‡∏≤‡∏ô‡∏∞‡∏Ç‡∏≠‡∏á‡πÇ‡∏ï‡πä‡∏∞</button>
  </div>

  <!-- ‡πÅ‡∏™‡∏î‡∏á‡∏™‡∏ñ‡∏≤‡∏ô‡∏∞‡∏Ç‡∏≠‡∏á‡πÇ‡∏ï‡πä‡∏∞ -->
  <div id="tableStatus"></div>

  <div id="confirmBtnContainer">
    <button id="confirmBtn" onclick="bookSeats()">‡∏à‡∏≠‡∏á‡πÄ‡∏•‡∏¢ (0 ‡∏ö‡∏≤‡∏ó)</button>
  </div>

  <script>
    document.addEventListener("DOMContentLoaded", () => {
      const input = document.getElementById("reservationDate");
      const today = new Date();
      const max = new Date();
      max.setDate(today.getDate() + 7);

      input.min = today.toISOString().split("T")[0];
      input.max = max.toISOString().split("T")[0];
    });
  </script>
</body>
</html>  